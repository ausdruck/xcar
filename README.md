# xcar
抓取爱卡汽车

##更新日志

###抓取解析爱卡汽车口碑 1.02
2017-03-01

解析出单页 点评原帖

解析出单页 车系

解析出单页 点评细分

解析出单页 论坛名称

###抓取解析爱卡汽车口碑 1.01
2017-02-28

单页点评角度和点评写入数据库

创建数据库

解析出单页 点评角度

解析出单页 评价

增加变量简释

修复变量名

##脚本简释
newcar.php 抓取解析爱卡汽车口碑和操作 mysql 数据库

##变量简释
newcar 抓取爱卡汽车口碑单一列表页

newcar_u  抓取过来的爱卡汽车口碑列表页面转换为 utf-8 中文编码

newcar_1 全部点评开始

newcar_2 全部点评结束 | 翻页开始

newcar_3s 点评角度开始

newcar_4s 点评角度结束 | 评价开始

newcar_5s 评价结束 | 点评原帖开始

newcar_6s 点评原帖

newcar_7s 车系和点评细分

newcar_8s 车系和点评细分

newcar_9s 论坛名称和发帖人昵称

na_1s 点评角度

na_2s 评价

na_3s 点评原帖

na_4s 车系

na_5s 点评细分

na_6s 论坛名称

sql_create_p 创建表格

sql_delete_p 删除表格

sql_write_p 写入数据

con 连接 mysqli

switch 切换连接的数据库 0 本地电脑数据库

ret 连接 mysqli 配置信息

sql php 数组设置 mysql 命令

update_time 写入数据时间

###解析内容
newcar_1(0) 页面开始 - 全部点评开始

newcar_1(1) 全部点评开始 - 页面结束

newcar_2(0) 全部点评开始 - (全部点评结束 | 翻页开始)

newcar_2(1) (全部点评结束 | 翻页开始) - 页面结束

newcar_3sk 点评角度开始[循环] - (全部点评结束 | 翻页开始)

newcar_4s(0) 点评角度开始[循环] - (点评角度结束 | 评价开始)[循环]

newcar_4s(1) (点评角度结束 | 评价开始)[循环] - (全部点评结束 | 翻页开始)

newcar_5s(0)  (点评角度结束 | 评价开始)[循环] - (评价结束 | 点评原帖开始)[循环]

newcar_5s(1) (评价结束 | 点评原帖开始)[循环] - (全部点评结束 | 翻页开始)

newcar_6s(0) (评价结束 | 点评原帖开始)[循环] - (点评原帖结束 | 车系开始)[循环]

newcar_6s(1) (点评原帖结束 | 车系开始)[循环] - (论坛链接结束 | 论坛名称开始)[循环]

newcar_6s(2) (论坛链接结束 | 论坛名称开始)[循环] - (全部点评结束 | 翻页开始)

newcar_7s(0) (点评原帖结束 | 车系开始)[循环] - 车系结束[循环]

newcar_7s(1) 车系结束[循环] - (论坛链接结束 | 论坛名称开始)[循环]

newcar_8s(0) (点评原帖结束 | 车系开始)[循环] - (车系结束 | 点评细分开始)[循环]

newcar_8s(1) (车系结束 | 点评细分开始)[循环] - 点评细分结束[循环]

newcar9s(0) (论坛链接结束 | 论坛名称开始)[循环] - (论坛名称结束 | 发帖人昵称开始)[循环]

newcar9s(1) (论坛名称结束 | 发帖人昵称开始)[循环] - (全部点评结束 | 翻页开始)

###变量命名规则
变量前缀 + _ + 数字 网页单数节点编号

变量前缀 + _ + 数字 + s 网页节点数组编号

变量前缀 + _ + 数字 + sk 网页节点数组循环

na 临时变量前缀

变量后缀 _p 穿透参数
